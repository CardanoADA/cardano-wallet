-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Utilities for a building Command-Line Interfaces
--   
--   Utilities for a building Command-Line Interfaces
@package cardano-wallet-cli
@version 2019.6.24


-- | Shared types and helpers for CLI parsing
module Cardano.CLI

-- | A convenient representation of a complete CLI environment.
data Environment
Environment :: Arguments -> Docopt -> (Option -> Bool) -> (forall a. FromText a => Option -> IO (NonEmpty a)) -> (forall a. FromText a => Option -> IO a) -> (forall a. FromText a => Option -> IO (Maybe a)) -> Environment
[args] :: Environment -> Arguments
[cli] :: Environment -> Docopt
[argPresent] :: Environment -> Option -> Bool
[parseAllArgs] :: Environment -> forall a. FromText a => Option -> IO (NonEmpty a)
[parseArg] :: Environment -> forall a. FromText a => Option -> IO a
[parseOptionalArg] :: Environment -> forall a. FromText a => Option -> IO (Maybe a)

-- | Make a specialized CLI from the specified commands, options, and
--   examples.
makeCli :: String -> String -> String -> Docopt

-- | Runs a CLI with the specified backend and CLI definition.
runCli :: (Manager -> Environment -> IO ()) -> Docopt -> IO ()

-- | Interprets the given environment and executes a CLI command.
runCliCommand :: forall t. (DecodeAddress t, EncodeAddress t) => Environment -> Manager -> (Proxy t -> IO ()) -> IO () -> IO ()

-- | Execute <a>launch</a> commands. This differs from the <tt>serve</tt>
--   command as it takes care of also starting a node backend in two
--   separate processes and monitors both processes: if one terminates,
--   then the other one is cancelled.
execLaunchCommands :: Trace IO Text -> Maybe FilePath -> [Command] -> IO ()

-- | Creates a command that can be used to start the wallet API server.
commandWalletServe :: String -> Listen -> Port "Node" -> Maybe FilePath -> String -> Verbosity -> Maybe (Hash "Genesis") -> Command

-- | Parse and convert the `--port` or `--random-port` option into a
--   <a>Listen</a> data-type.
parseWalletListen :: Environment -> IO Listen

-- | Initialize a state directory to store blockchain data such as blocks
--   or the wallet database.
setupStateDir :: Trace IO Text -> FilePath -> IO ()

-- | Port number with a tag for describing what it is used for
newtype Port (tag :: Symbol)
Port :: Int -> Port
[getPort] :: Port -> Int

-- | Controls how much information to include in log output.
data Verbosity

-- | The default level of verbosity.
Default :: Verbosity

-- | Include less information in the log output.
Quiet :: Verbosity

-- | Include more information in the log output.
Verbose :: Verbosity

-- | Initialize logging at the specified minimum <a>Severity</a> level.
initTracer :: Severity -> Text -> IO (Trace IO Text)

-- | Determine the minimum <a>Severity</a> level from the specified command
--   line arguments.
minSeverityFromArgs :: Arguments -> Severity

-- | Determine the desired <a>Verbosity</a> level from the specified
--   command line arguments.
verbosityFromArgs :: Arguments -> Verbosity

-- | Convert a given <a>Verbosity</a> level into a list of command line
--   arguments that can be passed through to a sub-process.
verbosityToArgs :: Verbosity -> [String]

-- | Map a given <a>Verbosity</a> level onto a <a>Severity</a> level.
verbosityToMinSeverity :: Verbosity -> Severity

-- | Generate a random mnemonic of the given size <tt>n</tt> (n = number of
--   words), and print it to stdout.
execGenerateMnemonic :: Text -> IO ()

-- | Override the system output encoding setting. This is needed because
--   the CLI prints UTF-8 characters regardless of the <tt>LANG</tt>
--   environment variable.
setUtf8Encoding :: IO ()

-- | Like <a>hPutErrLn</a> but with provided default <a>Handle</a>
putErrLn :: Text -> IO ()

-- | Print an error message in red
hPutErrLn :: Handle -> Text -> IO ()

-- | A wrapper to avoid orphan instances for types defined externally.
newtype OptionValue a
OptionValue :: a -> OptionValue a
[getOptionValue] :: OptionValue a -> a

-- | Make an existing parser optional. Returns 'Right Nothing' if the input
--   is empty, without running the parser.
optional :: (Monoid m, Eq m) => (m -> Either e a) -> m -> Either e (Maybe a)
parseArgWith :: FromText a => Docopt -> Arguments -> Option -> IO a
parseAllArgsWith :: FromText a => Docopt -> Arguments -> Option -> IO (NonEmpty a)

-- | Like <a>exitWithUsage</a>, but with a success exit code
help :: Docopt -> IO ()

-- | Like <a>hGetLine</a> but with default handles
getLine :: Buildable e => Text -> (Text -> Either e a) -> IO (a, Text)

-- | Prompt user and parse the input. Re-prompt on invalid inputs.
hGetLine :: Buildable e => (Handle, Handle) -> Text -> (Text -> Either e a) -> IO (a, Text)

-- | Like <a>hGetSensitiveLine</a> but with default handles
getSensitiveLine :: Buildable e => Text -> (Text -> Either e a) -> IO (a, Text)

-- | Gather user inputs until a newline is met, hiding what's typed with a
--   placeholder character.
hGetSensitiveLine :: Buildable e => (Handle, Handle) -> Text -> (Text -> Either e a) -> IO (a, Text)

-- | Decode API error messages and extract the corresponding message.
decodeError :: ByteString -> Maybe Text

-- | Show a data-type through its <a>ToText</a> instance
showT :: ToText a => a -> String
instance GHC.Show.Show Cardano.CLI.Verbosity
instance GHC.Classes.Eq Cardano.CLI.Verbosity
instance GHC.Show.Show a => GHC.Show.Show (Cardano.CLI.OptionValue a)
instance GHC.Read.Read a => GHC.Read.Read (Cardano.CLI.OptionValue a)
instance GHC.Generics.Generic (Cardano.CLI.OptionValue a)
instance GHC.Classes.Ord a => GHC.Classes.Ord (Cardano.CLI.OptionValue a)
instance GHC.Classes.Eq a => GHC.Classes.Eq (Cardano.CLI.OptionValue a)
instance GHC.Enum.Enum a => GHC.Enum.Enum (Cardano.CLI.OptionValue a)
instance GHC.Classes.Ord (Cardano.CLI.Port tag)
instance GHC.Enum.Enum (Cardano.CLI.Port tag)
instance GHC.Generics.Generic (Cardano.CLI.Port tag)
instance GHC.Show.Show (Cardano.CLI.Port tag)
instance GHC.Classes.Eq (Cardano.CLI.Port tag)
instance Data.Text.Class.FromText (Cardano.CLI.OptionValue Cardano.BM.Data.Severity.Severity)
instance Data.Text.Class.ToText (Cardano.CLI.OptionValue Cardano.BM.Data.Severity.Severity)
instance GHC.Enum.Bounded (Cardano.CLI.Port tag)
instance Data.Text.Class.FromText (Cardano.CLI.Port tag)
instance Data.Text.Class.ToText (Cardano.CLI.Port tag)
